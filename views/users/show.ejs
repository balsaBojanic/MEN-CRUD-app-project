<%- include('../partials/head') %>
<body>
    <%- include('../partials/header') %>

    <section id="recordssection">
        <div style="max-width: 800px; margin: 0 auto; background-color: rgba(189, 189, 189, 0.9); padding: 40px; border-radius: 20px;">
            <h1 style="color: #900020; text-align: center; margin-bottom: 30px;">USER PROFILE</h1>
            
            <div style="text-align: center; margin-bottom: 30px;">
                <h2 style="color: #2d2d2d; font-size: 32px;"><%= userProfile.username %></h2>
                <p style="font-size: 20px; color: #2d2d2d;">Role: <%= userProfile.role %></p>
                <p style="font-size: 18px; color: #2d2d2d;">Email: <%= userProfile.email %></p>
            </div>

            <% if (userProfile.role === 'seller' && userProfile.vinyls && userProfile.vinyls.length > 0) { %>
                <h3 style="color: #900020; margin-bottom: 20px;">My Vinyls for Sale:</h3>
                <div id="container">
                    <% userProfile.vinyls.forEach(vinyl => { %>
                        <div>
                            <img class="album" src="<%= vinyl.imageURL || '/default-vinyl.jpg' %>" alt="<%= vinyl.title %>">
                            <div class="recordinfo">
                                <h2><%= vinyl.title %></h2>
                                <hr>
                                <h3><%= vinyl.artist %></h3>
                                <p>Price: $<%= vinyl.price %></p>
                                <a href="/vinyls/<%= vinyl._id %>" style="color: #900020; text-decoration: none; margin-top: 10px;">View Details</a>
                            </div>
                        </div>
                    <% }) %>
                </div>
            <% } else if (userProfile.role === 'seller') { %>
                <p style="text-align: center; color: #2d2d2d; font-size: 18px;">You haven't listed any vinyls yet.</p>
                <div style="text-align: center; margin-top: 20px;">
                    <a href="/vinyls/new" style="background-color: #900020; color: white; padding: 10px 20px; text-decoration: none; border-radius: 5px;">Add Your First Vinyl</a>
                </div>
            <% } %>
        </div>
    </section>

    <%- include('../partials/footer') %>
</body>
</html>